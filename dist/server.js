/*! For license information please see server.js.LICENSE.txt */
(()=>{var t={817:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){"use strict";o=function(){return e};var t,e={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",s=c.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o=e&&e.prototype instanceof w?e:w,a=Object.create(o.prototype),c=new N(n||[]);return i(a,"_invoke",{value:k(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var m="suspendedStart",y="suspendedYield",v="executing",d="completed",g={};function w(){}function b(){}function E(){}var x={};f(x,u,(function(){return this}));var O=Object.getPrototypeOf,S=O&&O(O(I([])));S&&S!==r&&a.call(S,u)&&(x=S);var j=E.prototype=w.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,c,u){var l=p(t[o],t,i);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==n(f)&&a.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return r("throw",t,c,u)}))}u(l.arg)}var o;i(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(a,a):a()}})}function k(e,r,n){var o=m;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=R(c,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var l=p(e,r,n);if("normal"===l.type){if(o=n.done?d:y,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=d,n.method="throw",n.arg=l.arg)}}}function R(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,R(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=p(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(a.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(n(e)+" is not iterable")}return b.prototype=E,i(j,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,f(t,s,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,l,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(h(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(j),f(j,s,"Generator"),f(j,u,(function(){return this})),f(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function a(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function c(t){a(i,n,o,c,u,"next",t)}function u(t){a(i,n,o,c,u,"throw",t)}c(void 0)}))}}function c(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,a=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===n(a)?a:String(a)),o)}var a}var u=r(147).promises,l=r(17),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data.json";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.filePath=l.join("/Users/riccardopirruccio/Desktop/Resume_Projects/Atelier/src/data",e)}var e,r,n,a,s;return e=t,r=[{key:"storeData",value:(s=i(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.writeFile(this.filePath,JSON.stringify(e,null,2),"utf8");case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),new Error("Error while storing data: ".concat(t.t0));case 8:case"end":return t.stop()}}),t,this,[[0,5]])}))),function(t){return s.apply(this,arguments)})},{key:"retrieveData",value:(a=i(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.checkIfDataExists();case 2:if(!t.sent){t.next=15;break}return t.prev=3,t.next=6,u.readFile(this.filePath,"utf8");case 6:return e=t.sent,t.abrupt("return",JSON.parse(e));case 10:throw t.prev=10,t.t0=t.catch(3),new Error("File read error: ".concat(t.t0));case 13:t.next=16;break;case 15:throw new Error("File does not exist.");case 16:case"end":return t.stop()}}),t,this,[[3,10]])}))),function(){return a.apply(this,arguments)})},{key:"checkIfDataExists",value:(n=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.access(this.filePath);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t,this,[[0,6]])}))),function(){return n.apply(this,arguments)})}],r&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=s},783:(t,e,r)=>{r(142).config();var n=r(518).v2;n.config({cloud_name:process.env.CLOUDINARY_NAME,api_key:process.env.CLOUDINARY_API_KEY,api_secret:process.env.CLOUDINARY_API_SECRET,secure:!0}),t.exports={cloudinary:n}},718:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){"use strict";o=function(){return e};var t,e={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",s=c.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o=e&&e.prototype instanceof w?e:w,a=Object.create(o.prototype),c=new N(n||[]);return i(a,"_invoke",{value:k(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var m="suspendedStart",y="suspendedYield",v="executing",d="completed",g={};function w(){}function b(){}function E(){}var x={};f(x,u,(function(){return this}));var O=Object.getPrototypeOf,S=O&&O(O(I([])));S&&S!==r&&a.call(S,u)&&(x=S);var j=E.prototype=w.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,c,u){var l=p(t[o],t,i);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==n(f)&&a.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return r("throw",t,c,u)}))}u(l.arg)}var o;i(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(a,a):a()}})}function k(e,r,n){var o=m;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=R(c,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var l=p(e,r,n);if("normal"===l.type){if(o=n.done?d:y,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=d,n.method="throw",n.arg=l.arg)}}}function R(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,R(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=p(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(a.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(n(e)+" is not iterable")}return b.prototype=E,i(j,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,f(t,s,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,l,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(h(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(j),f(j,s,"Generator"),f(j,u,(function(){return this})),f(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function a(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function c(t){a(i,n,o,c,u,"next",t)}function u(t){a(i,n,o,c,u,"throw",t)}c(void 0)}))}}function c(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r(142).config();var l=r(167),s=process.env,f=s.URL,h=s.GIT,p=function(){var t=i(o().mark((function t(e){var r,n,a,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=function(){return(u=i(o().mark((function t(i){var u,s,p,m;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u="".concat(f,"/qa/questions/").concat(e,"/answers?page=").concat(i,"&count=").concat(n),s={headers:{Authorization:h}},t.prev=2,t.next=5,l.get(u,s);case 5:if(p=t.sent,!((m=p.data.results).length>0)){t.next=13;break}return r=[].concat(c(r),c(m)),t.next=11,a(i+1);case 11:t.next=14;break;case 13:return t.abrupt("return",(void 0,void 0,y=(o=r).filter((function(t){return"Seller"===t.answerer_name})),v=o.filter((function(t){return"Seller"!==t.answerer_name})).sort((function(t,e){return e.date-t.date})).sort((function(t,e){return e.helpfulness-t.helpfulness})),[].concat(c(y),c(v))));case 14:t.next=19;break;case 16:throw t.prev=16,t.t0=t.catch(2),Error(t.t0);case 19:case"end":return t.stop()}var o,y,v}),t,null,[[2,16]])})))).apply(this,arguments)},a=function(t){return u.apply(this,arguments)},r=[],n=100,t.next=6,a(1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=i(o().mark((function t(e){var r,n,a,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.body,n=e.name,a=e.email,i=e.product_id,t.prev=1,t.next=4,l.post("".concat(f,"/qa/questions"),{body:r,name:n,email:a,product_id:i},{headers:{Authorization:h}});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),next(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=i(o().mark((function t(e,r,n,a,i){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.post("".concat(f,"/qa/questions/").concat(i,"/answers"),{body:e,name:r,email:n,photos:a||[]},{headers:{Authorization:h}});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),next(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e,r,n,o,a){return t.apply(this,arguments)}}(),v=function(){var t=i(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.put("".concat(f,"/qa/questions/").concat(e,"/helpful"),{},{headers:{Authorization:h}});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),next(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=i(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.put("".concat(f,"/qa/answers/").concat(e,"/helpful"),{},{headers:{Authorization:h}});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),next(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=i(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.put("".concat(f,"/qa/answers/").concat(e,"/report"),{},{headers:{Authorization:h}});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),next(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}();t.exports={getAnswers:p,addQuestion:m,addAnswer:y,markQuestionAsHelpful:v,markAnswerAsHelpful:d,reportAnswer:g}},508:(t,e,r)=>{r(142).config();var n=r(167),o=process.env,a=o.URL,i=o.TOKEN;t.exports={getReviews:function(t,e){var r="".concat(a,"/reviews");n({method:"get",url:r,headers:{Authorization:i},params:t}).then((function(t){return e(null,t.data.results)})).catch((function(t){return e(t,null)}))},getMetaData:function(t,e){var r="".concat(a,"/reviews/meta");n({method:"get",url:r,headers:{Authorization:i},params:t}).then((function(t){return e(null,t.data)})).catch((function(t){return e(t,null)}))},postReview:function(t,e){var r=t.body,o=t.name,c=t.email,u=t.product_id,l=t.rating,s=t.summary,f=t.recommend,h=t.photoUrls,p=t.characteristics,m=JSON.stringify({product_id:u,rating:l,summary:s,body:r,recommend:f,name:o,email:c,photos:h,characteristics:p}),y={method:"post",url:"".concat(a,"/reviews"),headers:{Authorization:i,"Content-Type":"application/json"},data:m};n(y).then((function(t){return e(null,t.status)})).catch((function(t){return e(t,null)}))},markHelpful:function(t,e){var r="".concat(a,"/reviews/").concat(t.review_id,"/helpful");n({method:"put",url:r,headers:{Authorization:i}}).then((function(t){return e(null,t.status)})).catch((function(t){return e(t,null)}))},reportReview:function(t,e){var r="".concat(a,"/reviews/").concat(t.review_id,"/report");n({method:"put",url:r,headers:{Authorization:i}}).then((function(t){return e(null,t.status)})).catch((function(t){return e(t,null)}))}}},167:t=>{"use strict";t.exports=require("axios")},518:t=>{"use strict";t.exports=require("cloudinary")},142:t=>{"use strict";t.exports=require("dotenv")},147:t=>{"use strict";t.exports=require("fs")},17:t=>{"use strict";t.exports=require("path")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,r),a.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t=require("express");var e=r.n(t);const n=require("compression");var o=r.n(n);const a=require("react");var i=r.n(a);const c=require("react-dom/server"),u=require("react-router-dom/server"),l=require("serialize-javascript");var s=r.n(l);const f=require("react-router-dom"),h=require("@mui/material/CssBaseline");var p=r.n(h);const m=require("@emotion/react"),y=require("@emotion/server/create-instance");var v=r.n(y),d=r(142),g=r.n(d),w=r(167),b=r.n(w);const E="https://res.cloudinary.com/red-bean-rulez/image/upload/v1682800370/FEC_project/i2e4rxjyvxnzhl43vwa3.webp",x=require("@mui/icons-material");var O=i().createElement(x.Star,null),S=i().createElement(x.StarHalfOutlined,null),j=i().createElement(x.StarBorderOutlined,null);function L(t){if(null===t)return Array(5).fill(null).map((function(t,e){return(0,a.cloneElement)(j,{key:"empty-".concat(e)})}));for(var e=Math.floor(t),r=t%1!=0,n=Math.floor(5-t),o=[],i=0;i<e;i++)o.push((0,a.cloneElement)(O,{key:"full-".concat(i)}));r&&o.push((0,a.cloneElement)(S,{key:"half"}));for(var c=0;c<n;c++)o.push((0,a.cloneElement)(j,{key:"empty-".concat(c)}));return o}const _=function(t){var e=t.id,r=t.name,n=t.category,o=t.defaultPrice,a=t.photo,c=t.ratingAverage,u=t.resetProductData,l=(0,f.useNavigate)(),s=function(){l("/".concat(e)),u()};return i().createElement("div",{key:e,className:"product-card",role:"button",tabIndex:0,onClick:s,onKeyPress:s,style:{textDecoration:"none",color:"inherit"}},i().createElement("img",{src:null===a?E:a,alt:r,className:"product-image"}),i().createElement("div",{className:"product-card-text-content"},i().createElement("div",null,n),i().createElement("div",null,r),i().createElement("div",null,"$".concat(o)),i().createElement("div",{className:"rating"},L(c))))};function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function R(){return R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R.apply(this,arguments)}function P(){P=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new N(n||[]);return o(i,"_invoke",{value:L(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",v={};function d(){}function g(){}function w(){}var b={};l(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(I([])));x&&x!==r&&n.call(x,i)&&(b=x);var O=w.prototype=d.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==k(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(k(e)+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(j.prototype),l(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(O),l(O,u,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function A(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function N(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const T=function(t){var e=t.data,r=N((0,a.useState)((function(){return"undefined"!=typeof window&&window.__INITIAL_DATA__?window.__INITIAL_DATA__:e})),2),n=r[0],o=r[1],c=N((0,a.useState)(!n),2),u=c[0],l=c[1],s=N((0,a.useState)(null),2),f=s[0],h=s[1],p=function(){var t,e=(t=P().mark((function t(){var e;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b().get("/products");case 3:e=t.sent,o(e.data),l(!1),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),h("Error fetching data: ".concat(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){A(a,n,o,i,c,"next",t)}function c(t){A(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){u&&p()}),[]);var m=function(){window.__INITIAL_DATA__=null,o(null),l(!0)};return f?i().createElement("div",null,f):u?i().createElement("div",null,"Loading....ðŸ¤¹"):i().createElement("div",{className:"product-list"},n.map((function(t){return i().createElement(_,R({key:t.id},t,{resetProductData:m}))})))};function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const G=function(t){var e,r,n=t.name,o=t.category,c=t.ratingAverage,u=t.reviewsCount,l=t.selectedStyle,s=(e=(0,a.useState)({amount:null,discounted:!1}),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,r)||function(t,e){if(t){if("string"==typeof t)return C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=s[0],h=s[1];return(0,a.useEffect)((function(){null!==l.sale_price?h({amount:l.sale_price,discounted:!0}):h({amount:l.original_price,discounted:!1})}),[l]),i().createElement("div",{className:"product-info-container"},i().createElement("div",{className:"rating",style:{paddingTop:"10px"}},L(c)),i().createElement("div",{className:"scroll-review",to:"reviews-module"},"Read all (",u,") reviews"),i().createElement("div",null,o),i().createElement("h2",null,n),i().createElement("div",null,l.name),i().createElement("div",null,f.discounted?i().createElement("div",{className:"price-container"},i().createElement("div",{className:"discounted-price"},"$",f.amount),i().createElement("div",{className:"original-price"},"$",l.original_price)):i().createElement("div",{className:"original-price"},"$",l.original_price)),i().createElement("button",{className:"addto-outfit"},"Add to My Outfit"))};function q(t){var e=t.styles,r=t.selectedStyle,n=t.changeStyleSelected,o=function(t){n(t)};return 0===e.length?null:i().createElement("div",{"data-testid":"style-selector",className:"product_overview_style_selector"},e.map((function(t){var e=t.style_id===r.style_id,n=t.photos[0].thumbnail_url||E;return i().createElement("button",{key:t.style_id,className:"style_button",onClick:function(){return o(t)},onKeyPress:function(){return o(t)}},i().createElement("img",{className:"style_thumbnail ".concat(e?"selected":""),"aria-label":e?"Selected style":"Unselected style",src:n}))})))}function D(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return F(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}require("@mui/icons-material/KeyboardArrowUp"),require("@mui/icons-material/KeyboardArrowDown"),require("@mui/material/Button"),require("react-image-zoom");const M=function(t){var e=t.selectedStyle,r=D((0,a.useState)(0),2),n=r[0],o=(r[1],D((0,a.useState)("default"),2)),c=(o[0],o[1]),u=D((0,a.useState)(e.photos[n].url),2),l=u[0];return u[1],i().createElement("div",{className:"gallery-container"},i().createElement("img",{className:"main-img",alt:"Image",src:null===l?E:l,onClick:function(){c("expanded")}}))},Y=function(t){t.description;var e=t.features,r=t.slogan;return i().createElement("div",{className:"slogan-features"},i().createElement("div",{className:"slogan"},r),i().createElement("ul",{className:"features"},e.map((function(t,e){return i().createElement("li",{key:e},"".concat(t.value," ").concat(t.feature))}))))};function U(){return U=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U.apply(this,arguments)}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $(t){var e,r,n=t.productData,o=(e=(0,a.useState)(n.styles[0]),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,r)||function(t,e){if(t){if("string"==typeof t)return z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=o[0],u=o[1];return i().createElement("div",{className:"main-container"},i().createElement("div",{"data-testid":"overview",className:"overview"},i().createElement(M,{selectedStyle:c}),i().createElement("div",{className:"new-right"},i().createElement(G,U({},n,{selectedStyle:c})),i().createElement(q,{styles:n.styles,changeStyleSelected:function(t){u(t)},selectedStyle:c}))),i().createElement(Y,n))}function Q(){return Q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q.apply(this,arguments)}const B=function(t){var e=t.relatedProducts,r=t.resetProductData;return i().createElement("div",{style:{width:"1000px"}},i().createElement("h3",null,"RELATED PRODUCTS"),i().createElement("div",{className:"product-list"},e.map((function(t){return i().createElement(_,Q({key:t.id},t,{resetProductData:r}))}))))},H=function(t){var e=t.searchText,r=t.handleUpdateSearchText;return i().createElement("div",{className:"search"},i().createElement("div",{className:"searchInputs"},i().createElement("input",{value:e,type:"text",placeholder:"Have a question? Search for answers...",onChange:r}),i().createElement("div",{style:{paddingRight:"10px"}},i().createElement(x.Search,{fontSize:"large"}))))},W=require("moment");var K=r.n(W);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}const J=function(t){var e=t.photos;return i().createElement("div",{className:"answer_img_list"},e.map((function(t,e){var r="object"===V(t)?t.url:t,n=r?"Available":"Not available";return i().createElement("img",{alt:n,key:e,src:r||E})})))};function X(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const tt=function(t){var e,r,n=t.answer_id,o=t.answerer_name,c=t.body,u=t.date,l=t.answer_helpfulness,s=t.photos,f=X((0,a.useState)(l),2),h=f[0],p=f[1],m=X((0,a.useState)(!1),2),y=m[0],v=m[1],d=X((0,a.useState)(!1),2),g=d[0],w=d[1];e=y?i().createElement("div",{className:"question-yes"},"Yes(",h,")"):i().createElement("div",{className:"question-yes",onClick:function(){!function(t){var e={method:"put",url:"helpful/answer/".concat(t)};b()(e).then((function(t){return t})).catch((function(t){console.log(t)}))}(n),p((function(t){return t+1})),v(!0)}},"Yes(",h,")"),r=g?i().createElement("div",{className:"answer-report"},"Reported"):i().createElement("div",{className:"answer-report",onClick:function(){!function(t){var e={method:"put",url:"answer/".concat(t,"/report")};b()(e).then((function(t){return t})).catch((function(t){console.log(t)}))}(n),w(!0)}},"Report");var E="Seller"===o?i().createElement("label",{id:"seller-name"},o):i().createElement("label",null,o);return i().createElement("div",{className:"answer"},i().createElement("div",null,i().createElement("h3",null,"A:"),i().createElement("p",null,c)),i().createElement("div",{id:"answer-under"},i().createElement(J,{photos:s}),i().createElement("div",{className:"answer-options"},i().createElement("div",null,i().createElement("label",null,"by"),E,", ",K()(u).format("MMMM DD YYYY")),i().createElement("div",{className:"answer-helpful"},i().createElement("div",null,"Helpful?"),e),r)))},et=function(t){var e,r=t.answerListLength,n=t.displayList,o=t.showMoreAnswers,a=t.handleSeeMoreAnswers,c=t.handleCollapseAnswers;e=o?r>2?i().createElement("div",{className:"more-answers",onClick:a},"See more answers"):null:r<=2?null:i().createElement("div",{className:"more-answers",onClick:c},"Collapse answers");var u=n.length>2?i().createElement("div",{id:"answer-list"},n.map((function(t){return i().createElement(tt,{key:t.id||t.answer_id,answer_id:t.id||t.answer_id,answerer_name:t.answerer_name,body:t.body,date:t.date,answer_helpfulness:t.helpfulness,photos:t.photos})}))):i().createElement("div",null,n.map((function(t){return i().createElement(tt,{key:t.id||t.answer_id,answer_id:t.id||t.answer_id,answerer_name:t.answerer_name,body:t.body,date:t.date,answer_helpfulness:t.helpfulness,photos:t.photos})})));return i().createElement(i().Fragment,null,u,e)},rt=function(t){var e,r=t.type,n=t.maxLength,o=t.placeholder,a=t.label,c=t.name,u=t.message,l=t.accept,s=t.onChange,f=t.handleUpload,h=t.required,p=t.value;switch(r){case"file":e=i().createElement(i().Fragment,null,i().createElement("input",{id:"formInput",name:c,type:r,accept:l,multiple:!0,placeholder:o,maxLength:n,onChange:f}),i().createElement("div",{id:"answer-img"},p.map((function(t){return i().createElement("img",{key:t,alt:"not available",src:t})}))));break;case null:e=i().createElement("textarea",{id:"formInput",name:c,value:p,required:h,placeholder:o,maxLength:n,onChange:s});break;default:e=i().createElement("input",{id:"formInput",name:c,value:p,type:r,required:h,placeholder:o,maxLength:n,onChange:s})}var m=!0===h?"".concat(a,"*"):a;return i().createElement("div",{id:"form-entry"},i().createElement("label",null,m),e,i().createElement("div",null,u))},nt=function(t){var e=t.validEntries,r=t.inputs.map((function(t){return!1===e[t.name]?i().createElement("li",{key:t.id},t.errorMessage):null}));if(!Object.values(r).every((function(t){return null===t})))return i().createElement("div",{id:"questions-answers-form-error"},i().createElement("label",null,"You must enter the following:"),i().createElement("ol",{type:"1"},r))};function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function at(){at=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:L(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",v={};function d(){}function g(){}function w(){}var b={};l(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(A([])));x&&x!==r&&n.call(x,i)&&(b=x);var O=w.prototype=d.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==ot(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(ot(e)+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(j.prototype),l(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(O),l(O,u,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ct(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function ut(){var t;return t=at().mark((function t(e){var r,n;return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(o=e.target.files,function(t){if(Array.isArray(t))return it(t)}(o)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(o)||function(t,e){if(t){if("string"==typeof t)return it(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?it(t,e):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(t){if(t.size>3e6)throw Error("image file must be less than 3MB");var e=new FileReader;return new Promise((function(r){e.onload=function(){return r(e.result)},e.readAsDataURL(t)}))})),t.next=3,Promise.all(r);case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}var o}),t)})),ut=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){ct(a,n,o,i,c,"next",t)}function c(t){ct(a,n,o,i,c,"throw",t)}i(void 0)}))},ut.apply(this,arguments)}const lt=function(t){var e=(0,a.useRef)();return(0,a.useEffect)((function(){var r=function(r){e.current.contains(r.target)||t()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}})),e};function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}function ft(){return ft=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ft.apply(this,arguments)}function ht(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function pt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(r),!0).forEach((function(e){mt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function mt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==st(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==st(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===st(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return vt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const dt=function(t){var e,r=t.productName,n=t.question_id,o=t.showModal,c=t.questionBody,u=t.handleFetchAnswers,l=yt((0,a.useState)({answer:"",nickname:"",email:"",photos:[]}),2),s=l[0],f=l[1],h=yt((0,a.useState)({answer:!1,nickname:!1,email:!1,photos:!0}),2),p=h[0],m=h[1],y=yt((0,a.useState)(!1),2),v=y[0],d=y[1],g=[{id:1,label:"Your Answer",name:"answer",type:null,maxLength:"1000",placeholder:null,message:null,errorMessage:"please enter an answer",pattern:null,required:!0},{id:2,label:"What is your nickname",name:"nickname",type:"text",maxLength:"60",placeholder:"Example: jack543!",message:"For privacy reasons, do not use your full name or email address",errorMessage:"please enter a nickname",pattern:null,required:!0},{id:3,label:"Your email",name:"email",type:"email",maxLength:"60",placeholder:"Example: jack@email.com",message:"For authentication reasons, you will not be emailed",errorMessage:"please enter a valid email address",required:!0},{id:4,label:"Upload your photos",name:"photos",type:"file",accept:"image/*",errorMessage:"must upload a valid image",maxUploads:5}],w=function(t){(function(t){return ut.apply(this,arguments)})(t,g[3].errorMessage).then((function(t){var e=s.photos.slice();t.forEach((function(t){-1===s.photos.indexOf(t)&&s.photos.length<5&&e.push(t)}));var r=pt(pt({},s),{},{photos:e});f(r),m(pt(pt({},p),{},{photos:!0}))})).catch((function(t){0===s.photos.length&&m(pt(pt({},p),{},{photos:!1}))}))},E=function(t){var e=t.target.validity.valid,r=t.target.name,n=t.target.value;m(pt(pt({},p),{},mt({},r,!!e))),f(pt(pt({},s),{},mt({},r,n)))},x=lt((function(){o()}));return e=!0===v?i().createElement(nt,{validEntries:p,inputs:g}):null,i().createElement("div",{id:"new-question-window"},i().createElement("form",{ref:x,id:"question-form",onSubmit:function(){var t=s.answer,e=s.nickname,r=s.email,a=s.photos;!function(t,e,r,n,o,a){var i={method:"post",url:"answer/".concat(t),data:JSON.stringify({body:e,name:r,email:n,photos:o}),headers:{"Content-Type":"application/json"}};b()(i).then((function(){a()})).catch((function(t){console.log(t)}))}(n,t,e,r,a,u),o()}},i().createElement("h1",null,"Submit Your Answer"),i().createElement("h2",null,r,": ",c),g.map((function(t){return i().createElement(rt,ft({key:t.id},t,{value:s[t.name],onChange:E,handleUpload:w}))})),e,i().createElement("button",{id:"submit-question-button",onClick:function(){var t=Object.values(p).every((function(t){return!t}));d(t||!t)}},"Submit Answer")))};function gt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||wt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(t,e){if(t){if("string"==typeof t)return bt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bt(t,e):void 0}}function bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const Et=function(t){var e,r,n=t.question_id,o=t.body,c=t.helpfulness,u=t.productName,l=t.productId,s=t.answers,f=gt((0,a.useState)(function(t){if(Array.isArray(t))return bt(t)}(r=s)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||wt(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),2),h=f[0],p=f[1],m=s.slice(0,2),y=gt((0,a.useState)(m),2),v=y[0],d=y[1],g=gt((0,a.useState)(s.length>2),2),w=g[0],E=g[1],x=gt((0,a.useState)(c),2),O=x[0],S=x[1],j=gt((0,a.useState)(!1),2),L=j[0],_=j[1],k=gt((0,a.useState)(!1),2),R=k[0],P=k[1],A=function(){P(!R)};e=L?i().createElement("div",{className:"question-yes"},"Yes(",O,")"):i().createElement("div",{className:"question-yes",onClick:function(){!function(t){var e={method:"put",url:"helpful/question/".concat(t)};b()(e).then((function(t){return t})).catch((function(t){console.log(t)}))}(n),S((function(t){return t+1})),_(!0)}},"Yes(",O,")");var N=R?i().createElement(dt,{handleFetchAnswers:function(){!function(t,e,r){var n="/answers/".concat(t);b().get(n).then((function(t){e(t.data),r(t.data)})).catch((function(t){console.log(t)}))}(n,p,d)},productName:u,productId:l,question_id:n,questionBody:o,showModal:function(){A()}}):null;return i().createElement("div",null,N,i().createElement("div",{className:"question"},i().createElement("div",null,i().createElement("h2",null,"Q:"),i().createElement("h3",null,o)),i().createElement("div",{className:"question-options"},i().createElement("div",{className:"question-helpful"},i().createElement("div",null,"Helpful?"),e),i().createElement("div",{"data-testid":"test-answer",className:"question-add-answer",onClick:A},"Add Answer"))),i().createElement(et,{answerListLength:h.length,displayList:v,showMoreAnswers:w,handleSeeMoreAnswers:function(){d(h),E(!1)},handleCollapseAnswers:function(){var t=v.slice(0,2);d(t),E(!0)}}))};function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function Ot(){Ot=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:L(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",v={};function d(){}function g(){}function w(){}var b={};l(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(A([])));x&&x!==r&&n.call(x,i)&&(b=x);var O=w.prototype=d.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==xt(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(xt(e)+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(j.prototype),l(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(O),l(O,u,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function St(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function jt(){var t;return t=Ot().mark((function t(e,r,n,o,a){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b().post("/question",{product_id:e,body:r,name:n,email:o},{headers:{"Content-Type":"application/json"}});case 3:a(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})),jt=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){St(a,n,o,i,c,"next",t)}function c(t){St(a,n,o,i,c,"throw",t)}i(void 0)}))},jt.apply(this,arguments)}function Lt(t){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lt(t)}function _t(){return _t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_t.apply(this,arguments)}function kt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(r),!0).forEach((function(e){Pt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Pt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Lt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Lt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function At(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Nt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const It=function(t){var e,r=t.productName,n=t.productId,o=t.showModal,c=t.handleFetchQuestions,u=At((0,a.useState)({question:"",nickname:"",email:""}),2),l=u[0],s=u[1],f=At((0,a.useState)({question:!1,nickname:!1,email:!1}),2),h=f[0],p=f[1],m=At((0,a.useState)(!1),2),y=m[0],v=m[1],d=[{id:1,label:"Your Question",name:"question",type:null,maxLength:"1000",placeholder:null,message:null,errorMessage:"please enter a question",pattern:null,required:!0},{id:2,label:"What is your nickname",name:"nickname",type:"text",maxLength:"60",placeholder:"Example: jackson11!",message:"For privacy reasons, do not use your full name or email",errorMessage:"please enter a nickname",pattern:null,required:!0},{id:3,label:"Your email",name:"email",type:"email",maxLength:"60",placeholder:"Why did you like the product or not?",message:"For authentication reasons, you will not be emailed",errorMessage:"please enter a valid email address",required:!0}],g=function(t){var e=t.target.validity.valid,r=t.target.name,n=t.target.value;p(Rt(Rt({},h),{},Pt({},r,!!e))),s(Rt(Rt({},l),{},Pt({},r,n)))},w=lt((function(){o()}));return e=!0===y?i().createElement(nt,{validEntries:h,inputs:d}):null,i().createElement("div",{id:"new-question-window"},i().createElement("form",{ref:w,id:"question-form",onSubmit:function(t){var e=l.question,r=l.nickname,a=l.email;!function(t,e,r,n,o){jt.apply(this,arguments)}(n,e,r,a,c),c(),o()}},i().createElement("h1",null,"Ask Your Question"),i().createElement("h2",null,"About the ",r),d.map((function(t){return i().createElement(rt,_t({key:t.id},t,{value:l[t.name],onChange:g}))})),e,i().createElement("button",{id:"submit-question-button",onClick:function(){var t=Object.values(h).every((function(t){return!t}));v(t||!t)}},"Submit question")))};function Tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const Ct=function(t){var e,r,n,o,c,u,l=t.displayList,s=t.productName,f=t.productId,h=t.showMoreQuestions,p=t.handleShowMoreQuestions,m=t.handleFetchQuestions,y=t.handleCollapseQuestions,v=t.filterMode,d=(c=(0,a.useState)(!1),u=2,function(t){if(Array.isArray(t))return t}(c)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(c,u)||function(t,e){if(t){if("string"==typeof t)return Tt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tt(t,e):void 0}}(c,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=d[0],w=d[1],b=(e=l.length,r=(0,a.useRef)(null),n=(0,a.useRef)(e),o=n.current,(0,a.useEffect)((function(){n.current=e,o<e&&(r.current.scrollTop=r.current.scrollHeight)}),[e]),r),E=function(){w(!g)},x=g?i().createElement(It,{handleFetchQuestions:m,productName:s,productId:f,showModal:function(){E()}}):null,O=h?i().createElement("button",{onClick:p},"MORE ANSWERED QUESTIONS"):i().createElement("button",{onClick:y},"COLLAPSE");return i().createElement(i().Fragment,null,x,i().createElement("div",{"data-testid":"test-questions",ref:b,id:"question-list"},l.map((function(t){return i().createElement(Et,{answers:t.answers,productName:s,productId:f,key:t.question_id,question_id:t.question_id,body:t.question_body,helpfulness:t.question_helpfulness})}))),i().createElement("div",{id:"questions-buttons"},v?null:O,i().createElement("button",{onClick:E}," ADD QUESTION + ")))};function Gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qt(t){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(t)}function Dt(){Dt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:L(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",v={};function d(){}function g(){}function w(){}var b={};l(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(A([])));x&&x!==r&&n.call(x,i)&&(b=x);var O=w.prototype=d.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==qt(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(qt(e)+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(j.prototype),l(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(O),l(O,u,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Ft(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Mt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Yt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const Ut=function(t){var e,r=t.questions_answers,n=t.product_id,o=t.product_name,c=Mt((0,a.useState)(r),2),u=c[0],l=c[1],s=Mt((0,a.useState)(u.slice(0,2)),2),f=s[0],h=s[1],p=Mt((0,a.useState)(u.length>2),2),m=p[0],y=p[1],v=Mt((0,a.useState)([]),2),d=v[0],g=v[1],w=Mt((0,a.useState)(""),2),E=w[0],x=w[1],O=Mt((0,a.useState)(!1),2),S=O[0],j=O[1],L=Mt((0,a.useState)(!1),2),_=L[0],k=L[1],R=Mt((0,a.useState)(null),2),P=R[0],A=R[1],N=function(t,e){var r,n,o=(r=(0,a.useState)(t),n=2,function(t){if(Array.isArray(t))return t}(r)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(r,n)||function(t,e){if(t){if("string"==typeof t)return Gt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gt(t,e):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],c=o[1];return(0,a.useEffect)((function(){var e=setTimeout((function(){c(t)}),1500);return function(){clearTimeout(e)}}),[t,1500]),i}(E),I=(e=E,"question_body",f.filter((function(t){return t.question_body.toLowerCase().includes(e.toLowerCase())}))),T=function(){var t,e=(t=Dt().mark((function t(){var e;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b().get("/questions/".concat(n));case 3:e=t.sent,l(e.data),k(!1),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),A("Error fetching data: ".concat(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Ft(a,n,o,i,c,"next",t)}function c(t){Ft(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){0!==N.length?(g(I),j(!0)):j(!1)}),[N]),(0,a.useEffect)((function(){_&&T()}),[_]),P?i().createElement("div",null,P):_?i().createElement("div",null,"Loading....ðŸ¤¹"):i().createElement("div",{id:"QandA-main"},i().createElement("div",null,i().createElement("h3",null,"QUESTIONS & ANSWERS"),i().createElement(H,{handleUpdateSearchText:function(t){x(t.target.value)},searchText:E}),i().createElement(Ct,{handleFetchQuestions:function(){k(!0)},displayList:S?d:f,productName:o,productId:n,showMoreQuestions:m,handleShowMoreQuestions:function(){h(u),y(!1)},handleCollapseQuestions:function(){h(u.slice(0,2)),y(!0)},filterMode:S})))};var zt={5:!1,4:!1,3:!1,2:!1,1:!1},$t=function(t,e,r,n){var o=[];if(Object.values(e).indexOf(!0)>=0){for(var a=0;a<t.current.length;a++)e[a].rating&&o.push(t.current[a]);n(o)}else n(t.current.slice(0,r))};const Qt=function(t){var e=t.characteristics,r=(0,a.useMemo)((function(){return function(){var t=[],r=[i().createElement("div",{id:"poor",fromelement:"Ratings/Reviews",key:"poor"},"Poor"),i().createElement("div",{id:"great",fromelement:"Ratings/Reviews",key:"great"},"Great")],n=[i().createElement("div",{id:"too-small",fromelement:"Ratings/Reviews",key:"small"},"Too Small"),i().createElement("div",{id:"perfect",fromelement:"Ratings/Reviews",key:"perfect"},"Perfect"),i().createElement("div",{id:"too-big",fromelement:"Ratings/Reviews",key:"big"},"Too Big")];for(var o in e)if(null!==e[o]){var a,c=e[o].id,u=Math.floor(e[o].value);a="Comfort"===o||"Quality"===o?r:n,t.push(i().createElement("div",{className:"characteristic",fromelement:"Ratings/Reviews",key:c},i().createElement("div",{className:"char-name",fromelement:"Ratings/Reviews"},"".concat(o)),i().createElement("div",{className:"char-meter",fromelement:"Ratings/Reviews"},i().createElement("i",{id:"char-icon",fromelement:"Ratings/Reviews",className:"fak fa-triangle-solid fa-flip-vertical",style:{marginLeft:20*u+"%"}})),i().createElement("div",{className:"breakdown-descrip",fromelement:"Ratings/Reviews"},a)))}return t}()}),[e]);return i().createElement("div",null,i().createElement("h3",{hidden:!0},"Product Breakdown"),r)};function Bt(t){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bt(t)}function Ht(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(r),!0).forEach((function(e){Kt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ht(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Kt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Bt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Bt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Vt={handleFilters:function(t,e){var r=t.className,n=t.dataset.id,o=t.id;"graph-text"===r?document.getElementById(o).classList.add("graph-text-filter"):document.getElementById(o).classList.remove("graph-text-filter"),e((function(t){return Wt(Wt({},t),{},Kt({},n,!t[n]))}))},handleRatings:function(t,e){var r=t,n=0,o=0;for(var a in r){var i=parseInt(a,10),c=parseInt(r[a],10);n+=c,o+=i*c}e((o/n).toFixed(1),n)},handleRatingsPercent:function(t){var e=t.current.ratings,r=0,n={1:0,2:0,3:0,4:0,5:0};for(var o in e)r+=parseInt(e[o]);for(var a in e){var i=e[a];n[a]=Math.floor(i/r*100)}return n},handleRecommended:function(t,e){if(void 0!==t){var r=t.false,n=t.true,o=Number(r)+Number(n);e(Math.floor(n/o*100))}},createStarsRating:function(t){var e=t.current,r=[i().createElement("div",{key:"star-rating"})];if(e){r=[];var n,o=Math.floor(e),a=e-o;if(a<.25&&(n="none"),.25<=a&&a<.5&&(n="quarter"),.5<=a&&a<.75&&(n="half"),.75<=a&&(n="three-quarter"),0!==e){for(var c=1;c<=o;c++)r.push(i().createElement("i",{className:"fak fa-star-solid star",fromelement:"Ratings/Reviews",key:"".concat(c,"-solid")}));"none"!==n&&r.push(i().createElement("i",{className:"fak fa-star-half-stroke-solid",fromelement:"Ratings/Reviews",key:"star-fraction"}));for(var u=o+1;u<5;u++)r.push(i().createElement("i",{className:"fak fa-star-thin star",fromelement:"Ratings/Reviews",key:"".concat(u,"-regular")}))}return r}},createRatingsBD:function(t,e){var r=Vt.handleRatingsPercent(t),n=t.current.ratings,o=[i().createElement("div",{key:"ratingsBD"})];if(n){o=[];for(var a=5;a>0;a--)o.push(i().createElement("div",{id:"filter-star",fromelement:"Ratings/Reviews",key:a},i().createElement("div",{id:"filter-star-".concat(a),fromelement:"Ratings/Reviews",className:"graph-text","data-id":"".concat(a),onClick:function(t){return Vt.handleFilters(t.target,e)}},"".concat(a," stars")),i().createElement("div",{className:"graph-meter",fromelement:"Ratings/Reviews"},i().createElement("span",{className:"brekdown-meter",fromelement:"Ratings/Reviews",style:{width:r[a]+"%"}})),i().createElement("div",{className:"graph-rating",fromelement:"Ratings/Reviews"},n[a])));return o}return o},getMetadata:function(t,e){var r={params:{product_id:t}};b().get("/reviews/meta",r).then((function(t){e(t.data)})).catch((function(t){return console.log("Error fetching metadata: ",t)}))}};const Jt=Vt,Xt=function(t){var e=t.product_id,r=t.setCharacteristics,n=t.characteristics,o=t.setCurrentFilters,c=(t.currentFilters,t.metaData),u=(0,a.useRef)(c.percentRecommended),l=(0,a.useRef)(c.totalReviews),s=(0,a.useRef)(c.avgRating),f=(0,a.useRef)(c),h=(0,a.useRef)(!0),p=(0,a.useMemo)((function(){return L(s.current)}),[s.current]),m=(0,a.useMemo)((function(){return Jt.createRatingsBD(f,o)}),[f.current]);return(0,a.useEffect)((function(){h.current?h.current=!1:Jt.getMetadata(e,(function(t){f.current=t,Jt.handleRatings(t.ratings,(function(t,e){l.current=e,s.current=t})),Jt.handleRecommended(t.recommended,(function(t){u.current=t})),r((function(){return t.characteristics}))}))}),[e]),i().createElement("div",{id:"ratings-breakdown",fromelement:"Ratings/Reviews"},i().createElement("div",{id:"average-rating"},i().createElement("div",{id:"average",fromelement:"Ratings/Reviews"},"".concat(s.current)),i().createElement("div",{id:"breakdown-stars",fromelement:"Ratings/Reviews"},p)),i().createElement("div",{id:"review-count",fromelement:"Ratings/Reviews"},"out of ".concat(l.current," ratings")),i().createElement("div",{id:"recommend-percent",fromelement:"Ratings/Reviews"},"".concat(u.current,"% of reviewers recommend this product")),i().createElement("div",{id:"ratings-graph",fromelement:"Ratings/Reviews"},m),i().createElement(Qt,{characteristics:n}))};function Zt(t){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zt(t)}function te(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ee(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?te(Object(r),!0).forEach((function(e){var n,o,a;n=t,o=e,a=r[e],(o=function(t){var e=function(t,e){if("object"!==Zt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Zt(e)?e:String(e)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var re={product_id:0,recommend:null,characteristics:{},summary:"",photos:[],rating:0,email:"",body:"",name:""},ne={handleSubmit:function(t,e){b().post("/reviews",t).then((function(t){e((function(t){return ee(ee({},t),re)})),console.log(t)})).catch((function(t){console.log("post error: ",t)}))},validateUserData:function(t,e,r,n,o,a){var i,c=e.rating,u=e.recommend,l=e.summary,s=e.body,f=e.photos,h=e.name,p=e.email,m=Object.keys(e.characteristics).length,y={rating:0!==c,recommend:"boolean"==typeof u,characteristics:Object.keys(o).length===m,summary:l.length<=60,body:s.length>=50&&s.length<=1e3,photos:f.length<=5,name:0<h.length&&h.length<=60,email:0<p.length&&p.length<=60};for(var v in i=/\S+@\S+\.\S+/.test(e.email),y.email=i,y)if(!y[v])return t.current=v,void n((function(t){return!0}));a((function(t){return!1})),ne.handleSubmit(e,r)}};const oe={Size:{1:"A size too small",2:"1/2 size too small",3:"Perfect",4:"1/2 size too big",5:"A size too wide"},Width:{1:"Too narrow",2:"Slightly narrow",3:"Perfect",4:"Slightly wide",5:"Too wide"},Comfort:{1:"Uncomfortable",2:"Slightly uncomfortable",3:"Ok",4:"Comfortable",5:"Perfect"},Quality:{1:"Poor",2:"Below Average",3:"What I expected",4:"Pretty great",5:"Perfect"},Length:{1:"Runs short",2:"Runs slightly short",3:"Perfect",4:"Runs slightly long",5:"Runs long"},Fit:{1:"Runs tight",2:"Runs slightly tight",3:"Perfect",4:"Runs slightly long",5:"Runs long"}};function ae(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ie(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ie(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const ce=function(t){var e=t.characteristics,r=(t.handleProductChars,t.handleUserInputs),n=ae((0,a.useState)(i().createElement("div",null)),2),o=n[0],c=n[1],u=ae((0,a.useState)({}),2);u[0],u[1],(0,a.useEffect)((function(){f()}),[]);var l=function(t,e,n){r("characteristics",e,n),s(t,e,n)},s=function(t,e,r){var n=document.getElementById(e),o=oe[t][r];n.textContent=o},f=function(){var t=[],r=function(r){var n=e[r].id;t.push(i().createElement("div",{id:"add-characteristic",fromelement:"Ratings/Reviews",key:n},i().createElement("div",{id:"char-descrip-output",fromelement:"Ratings/Reviews"},i().createElement("div",{id:n,fromelement:"Ratings/Reviews",className:"char-descrip-output"},"None Selected")),i().createElement("div",{className:"char-radios-text",fromelement:"Ratings/Reviews"}," ","".concat(r)," "),i().createElement("div",{id:"char-radios",fromelement:"Ratings/Reviews"},i().createElement("input",{id:n,fromelement:"Ratings/Reviews",className:"char-radios",type:"radio",name:"".concat(r),value:"1",onClick:function(){return l(r,n,1)}}),i().createElement("input",{id:n,fromelement:"Ratings/Reviews",className:"char-radios",type:"radio",name:"".concat(r),value:"2",onClick:function(){return l(r,n,2)}}),i().createElement("input",{id:n,fromelement:"Ratings/Reviews",className:"char-radios",type:"radio",name:"".concat(r),value:"3",onClick:function(){return l(r,n,3)}}),i().createElement("input",{id:n,fromelement:"Ratings/Reviews",className:"char-radios",type:"radio",name:"".concat(r),value:"4",onClick:function(){return l(r,n,4)}}),i().createElement("input",{id:n,fromelement:"Ratings/Reviews",className:"char-radios",type:"radio",name:"".concat(r),value:"5",onClick:function(){return l(r,n,5)}})),i().createElement("div",{id:"char-descrip",fromelement:"Ratings/Reviews"},i().createElement("div",{className:"char-descrip-1",fromelement:"Ratings/Reviews"}," ","(1) ".concat(oe[r][1])," "),i().createElement("div",{className:"char-descrip-5",fromelement:"Ratings/Reviews"}," ","(5) ".concat(oe[r][5])," "))))};for(var n in e)r(n);c(t)};return i().createElement("fieldset",{id:"characteristics-radios",fromelement:"Ratings/Reviews"},i().createElement("legend",{id:"characteristics-inputs",fromelement:"Ratings/Reviews"},"Characteristics*"),o)},ue=function(t){var e=t.error,r=t.errorModal,n=t.setErrorModal;return r?i().createElement("div",{id:"error-window",fromelement:"Ratings/Reviews"},i().createElement("div",{id:"error-modal",fromelement:"Ratings/Reviews"},i().createElement("div",{onClick:function(){return n((function(t){return!1}))}},i().createElement("i",{id:"error-modal-icon",fromelement:"Ratings/Reviews",className:"fak fa-square-xmark-light fa-lg"})),i().createElement("div",{id:"error",fromelement:"Ratings/Reviews"},"You must enter the following: ".concat(e.current.toUpperCase())),i().createElement("div",{id:"error-msg",fromelement:"Ratings/Reviews"},"missing field or incorrect format"))):""},le=require("@fortawesome/react-fontawesome"),se=function(t){var e=t.rating,r=t.handleUserInputs,n=(0,a.useMemo)((function(){return function(){for(var t=[],n=function(n){t.push(i().createElement(le.FontAwesomeIcon,{id:"star-".concat(n),fromelement:"Ratings/Reviews",key:"".concat(n),className:"review-modal-stars",icon:e>=n?"fak fa-star-solid":"fak fa-star-thin",onClick:function(){r("rating",n)}}))},o=1;o<=5;o++)n(o);return t}()}),[e]),o={1:"Poor",2:"Fair",3:"Average",4:"Good",5:"Great"}[e];return i().createElement("fieldset",{id:"rate-by-star",fromelement:"Ratings/Reviews"},i().createElement("legend",{id:"user-rating",fromelement:"Ratings/Reviews"},"Overall Rating*"),n,o)};function fe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const he=function(t){var e,r,n=t.photos,o=t.handleUserInputs,c=(e=(0,a.useState)(i().createElement("div",null)),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,r)||function(t,e){if(t){if("string"==typeof t)return fe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fe(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return c[0],c[1],i().createElement("fieldset",{id:"review-photos",fromelement:"Ratings/Reviews"},i().createElement("legend",{id:"review-photos-header",fromelement:"Ratings/Reviews"},"Upload your photos"),i().createElement("input",{id:"photo-input",fromelement:"Ratings/Reviews",type:"file",accept:"image/png, image/jpeg",onChange:function(t){return function(t){var e=t.target.files;console.log(e);var r=[];if(e.length+n.length>5)throw new Error("Too Many Files Uploaded: Max(5)");for(var a=function(){var t=e[i],n=document.createElement("img");n.className="review-image",n.file=t,n.width=80,n.onclick=function(t){t.target.remove(),console.log(e)},images.appendChild(n);var a=new FileReader;a.onload=function(t){n.src=t.target.result,r.push(t.target.result),o("photos",r)},a.readAsDataURL(t)},i=0;i<e.length;i++)a()}(t)}}),i().createElement("div",{id:"images",fromelement:"Ratings/Reviews"}))};function pe(t){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pe(t)}function me(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ye(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?me(Object(r),!0).forEach((function(e){ve(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ve(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==pe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===pe(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function de(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ge(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ge(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const we=function(t){var e,r=t.showReviewModal,n=t.setShowReviewModal,o=t.product_name,c=t.product_id,u=t.characteristics,l=de((0,a.useState)(re),2),s=l[0],f=l[1],h=de((0,a.useState)(""),2),p=h[0],m=h[1],y=(0,a.useRef)("");function v(t,e,r){var n;r?(n=ve({},e,r),f((function(e){return ye(ye({},e),{},ve({},t,ye(ye({},e[t]),n)))}))):(n=ve({},t,e),f((function(t){return ye(ye({},t),n)})))}return(0,a.useEffect)((function(){var t={product_id:c};f((function(e){return ye(ye({},e),t)}))}),[c]),r?i().createElement("div",{id:"review-window",fromelement:"Ratings/Reviews"},i().createElement("div",{id:"review-form",fromelement:"Ratings/Reviews",onSubmit:function(t){return t.preventDefault()}},i().createElement("div",{onClick:function(){return n((function(t){return!1}))}},i().createElement("i",{id:"review-window-icon",fromelement:"Ratings/Reviews",className:"fak fa-square-xmark-light fa-2xl"})),i().createElement("h1",{id:"add-review-header",fromelement:"Ratings/Reviews"},"Write Your Review"),i().createElement("h3",{id:"product-name",fromelement:"Ratings/Reviews"},"About the ",o),i().createElement(se,{rating:s.rating,handleUserInputs:v}),i().createElement("fieldset",{id:"recommend",fromelement:"Ratings/Reviews",required:"required"},i().createElement("legend",{id:"user-recommend",fromelement:"Ratings/Reviews"},"Do you recommend this product?*"),i().createElement("label",{className:"rec-radio-text",fromelement:"Ratings/Reviews"},i().createElement("input",{className:"rec-radio",fromelement:"Ratings/Reviews",type:"radio",name:"rec",value:"yes",onClick:function(){return v("recommend",!0)}}),"Yes"),i().createElement("label",{className:"rec-radio-text",fromelement:"Ratings/Reviews"},i().createElement("input",{className:"rec-radio",fromelement:"Ratings/Reviews",type:"radio",name:"rec",value:"no",onClick:function(){return v("recommend",!1)}}),"No")),i().createElement(ce,{characteristics:u,handleUserInputs:v}),i().createElement("fieldset",{id:"review-summary-input"},i().createElement("legend",{className:"user-summary-heading",fromelement:"Ratings/Reviews"},"Summary"),i().createElement("textarea",{className:"user-summary",fromelement:"Ratings/Reviews",maxLength:"60",placeholder:"Example: Best purchse ever!",rows:"2",cols:"35",required:"required",onChange:function(t){return v("summary",t.target.value)}})),i().createElement("fieldset",{id:"review-body-input",fromelement:"Ratings/Reviews"},i().createElement("legend",{className:"user-review-header",fromelement:"Ratings/Reviews"},"Review*"),i().createElement("textarea",{className:"user-review",fromelement:"Ratings/Reviews",minLength:"50",maxLength:"1000",placeholder:"Why did you like this product or not?",rows:"3",cols:"70",wrap:"hard",required:"required",onChange:function(t){return v("body",t.target.value)}}),i().createElement("span",{className:"review-char-count",fromelement:"Ratings/Reviews"},s.body.length<50?"Minimum required characters left: ".concat(50-s.body.length):"Minimum Reached")),i().createElement(he,{photos:s.photos,handleUserInputs:v}),i().createElement("fieldset",{id:"name-input",fromelement:"Ratings/Reviews"},i().createElement("legend",{id:"add-review-header",fromelement:"Ratings/Reviews"},"What is your Name?*"),i().createElement("input",(ve(e={className:"user-name",fromelement:"Ratings/Reviews",type:"text"},"className","name-input"),ve(e,"placeholder","Example: jackson11!"),ve(e,"maxLength","60"),ve(e,"size","35"),ve(e,"required","required"),ve(e,"onChange",(function(t){return v("name",t.target.value)})),e)),i().createElement("br",null),i().createElement("span",{className:"review-name-privacy",fromelement:"Ratings/Reviews"},"For privacy reasons, do not use your full name or email address")),i().createElement("fieldset",{id:"email-input",fromelement:"Ratings/Reviews"},i().createElement("legend",{className:"user-review-email",fromelement:"Ratings/Reviews"},"Your email*"),i().createElement("input",{className:"email-input",fromelement:"Ratings/Reviews",type:"email",placeholder:"Example: jackson11@email.com",maxLength:"60",size:"35",required:"required",onChange:function(t){return v("email",t.target.value)}}),i().createElement("br",null),i().createElement("span",{className:"review-authentication",fromelement:"Ratings/Reviews"},"For authentication reasons, you will not be emailed")),i().createElement("br",null),i().createElement("button",{id:"submit-review",fromelement:"Ratings/Reviews",type:"submit",className:"reviews-btn",onClick:function(){return ne.validateUserData(y,s,f,m,u,n)}},"Submit Review"),i().createElement("span",{className:"review-field-required",fromelement:"Ratings/Reviews"},"*required")),i().createElement(ue,{error:y,errorModal:p,setErrorModal:m})):""},be=function(t){var e=t.photoURL,r=t.viewPhoto,n=t.closePhotoModal,o=t.setViewPhoto;return r?i().createElement("div",{id:"photo-window",fromelement:"Ratings/Reviews"},i().createElement("div",{id:"modal-photo",fromelement:"Ratings/Reviews"},i().createElement("div",{onClick:function(){return n(o)}},i().createElement("i",{id:"photo-window-icon",fromelement:"Ratings/Reviews",className:"fak fa-square-xmark-light fa-2xl"})),i().createElement("img",{className:"modal-photo",fromelement:"Ratings/Reviews",src:e,alt:"Photo Not Available"}))):""};var Ee={createHelpfulnessDiv:function(t,e,r,n){var o=[];return o.push(i().createElement("div",{id:"helpful-text",fromelement:"Ratings/Reviews",key:"helpful"},i().createElement("span",{className:"review-helpfulness",fromelement:"Ratings/Reviews"},"Helpful?"),i().createElement("span",{className:"helpful-yes",fromelement:"Ratings/Reviews",onClick:function(){return Ee.markHelpful(t,e,r,n)}},"Yes "),i().createElement("span",{className:"review-helpfulness",fromelement:"Ratings/Reviews"},"(".concat(t,")")),i().createElement("span",{className:"review-helpfulness",fromelement:"Ratings/Reviews"},"|"),i().createElement("span",{className:"review-report",fromelement:"Ratings/Reviews",onClick:function(){return Ee.reportReview(n)}},"Report"))),o},createRecommendDiv:function(t,e){var r=[""];return t&&(r=[]).push(i().createElement("div",{className:"review-recommend",fromelement:"Ratings/Reviews",key:"recommend"},i().createElement("i",{className:"fa-light fa-check",fromelement:"Ratings/Reviews"}),i().createElement("span",{className:"review-rec-text",fromelement:"Ratings/Reviews"},"I recommend this product"))),r},createResponseDiv:function(t,e){var r=[];if(null!==t)return r.push(i().createElement("div",{id:"user-response",fromelement:"Ratings/Reviews",key:"response"},i().createElement("div",{className:"response",fromelement:"Ratings/Reviews"},"Response:"),i().createElement("div",{className:"user-response",fromelement:"Ratings/Reviews"},"".concat(t)))),void(e.current=r);e.current=[i().createElement("div",{key:"review"})]},createStarDiv:function(t){for(var e=[],r=1;r<=t;r++)e.push(i().createElement("i",{className:"fak fa-star-solid star",fromelement:"Ratings/Reviews",key:"star-solid-".concat(r)}));for(var n=t;n<5;n++)e.push(i().createElement("i",{className:"fak fa-star-thin star",fromelement:"Ratings/Reviews",key:"star-".concat(n)}));return e},createPhotosDiv:function(t,e,r){var n=[i().createElement("div",{key:"photos"})];return t&&(n=[],t.forEach((function(t){n.push(i().createElement("img",{className:"review-image",fromelement:"Ratings/Reviews",fetchpriority:"high",key:t.id,src:t.url,alt:"image not available",onClick:function(){return Ee.enlargePhotos(t,e,r)}}))}))),n},closePhotoModal:function(t){t((function(){return!1}))},enlargePhotos:function(t,e,r){e.current=t.url,r((function(t){return!0}))},markHelpful:function(t,e,r,n){t===r&&(e((function(t){return t+1})),Ee.putHelpful(n))},reportReview:function(t){var e="reviews/".concat(t,"/report");b().put(e).then((function(t){return t})).catch((function(t){console.log("Error reporting review:",t)}))},formatDate:function(t){if(""!==t)return K()(t).format("MMMM DD YYYY")},putHelpful:function(t){var e="reviews/".concat(t,"/helpful");b().put(e).then((function(t){return t})).catch((function(t){console.log("Error marking helpful:",t)}))}};function xe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Oe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oe(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const Se=function(t){var e=t.helpfulness,r=t.review_id,n=t.date,o=t.username,c=t.summary,u=(t.review,t.rating),l=t.body,s=t.response,f=t.recommend,h=t.photos,p=xe((0,a.useState)(e),2),m=p[0],y=p[1],v=xe((0,a.useState)(!1),2),d=v[0],g=v[1],w=(0,a.useRef)([i().createElement("div",{key:"response"})]),b=(0,a.useRef)(""),E=(0,a.useMemo)((function(){return Ee.formatDate(n)}),[n]),x=(0,a.useMemo)((function(){return Ee.createPhotosDiv(h,b,g)}),[h]),O=(0,a.useMemo)((function(){return Ee.createStarDiv(u)}),[u]),S=(0,a.useMemo)((function(){return Ee.createHelpfulnessDiv(m,y,e,r)}),[m]),j=(0,a.useMemo)((function(){return Ee.createRecommendDiv(f)}),[f]);return(0,a.useEffect)((function(){Ee.createResponseDiv(s,w)}),[r]),i().createElement("div",{className:"review","data-testid":"review"},i().createElement("div",{className:"review-tile-top-bar"},i().createElement("div",{className:"review-stars",fromelement:"Ratings/Reviews"},O),i().createElement("div",{className:"review-date",fromelement:"Ratings/Reviews"},E),i().createElement("div",{className:"review-username",fromelement:"Ratings/Reviews"},"".concat(o,","))),i().createElement("div",{className:"review-summary",fromelement:"Ratings/Reviews"},c),i().createElement("div",{className:"review-body",fromelement:"Ratings/Reviews"},l),i().createElement("div",{className:"review-photos",fromelement:"Ratings/Reviews"},x),i().createElement(be,{photoURL:b.current,viewPhoto:d,closePhotoModal:Ee.closePhotoModal,setViewPhoto:g}),j,w.current,i().createElement("div",{className:"review-helpfulness",fromelement:"Ratings/Reviews"},S))};function je(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const Le=function(t){var e,r,n=t.reviews,o=t.setSortType,c=t.reviewCount,u=(e=(0,a.useState)("relevance"),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,r)||function(t,e){if(t){if("string"==typeof t)return je(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?je(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=u[0],s=u[1];function f(t){s("relevant"===t?"relevance":t),o(t)}return(0,a.useRef)("relevance"),i().createElement("div",{id:"reviews-list",fromelement:"Ratings/Reviews"},i().createElement("div",{id:"review-sort",fromelement:"Ratings/Reviews"},i().createElement("div",{id:"sort-text",fromelement:"Ratings/Reviews"},"".concat(c," reviews, sorted by")),i().createElement("div",{id:"sort-dropdown",fromelement:"Ratings/Reviews"},l,i().createElement("div",{id:"sort-dropdown-content",fromelement:"Ratings/Reviews"},i().createElement("ul",{className:"review-sort-types",fromelement:"Ratings/Reviews"},i().createElement("li",{className:"relevant",fromelement:"Ratings/Reviews",role:"relevant",onClick:function(){return f("relevant")}},"relevance"),i().createElement("li",{className:"newest",fromelement:"Ratings/Reviews",role:"newest",onClick:function(){return f("newest")}},"newest"),i().createElement("li",{className:"helpful",fromelement:"Ratings/Reviews",role:"helpful",onClick:function(){return f("helpful")},value:"helpful"},"helpful"))),i().createElement("div",{id:"sort-icon",fromelement:"Ratings/Reviews"},i().createElement("i",{className:"fa-regular fa-angle-down fa-lg",fromelement:"Ratings/Reviews"})))),i().createElement("div",{id:"reviews",fromelement:"Ratings/Reviews"},n?n.map((function(t){return i().createElement(Se,{key:t.review_id,review:t,helpfulness:t.helpfulness,recommend:t.recommend,response:t.response,review_id:t.review_id,username:t.reviewer_name,summary:t.summary,photos:t.photos,rating:t.rating,body:t.body,date:t.date})})):null))};function _e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ke(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ke(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const Re=function(t){var e=t.product_id,r=t.product_name,n=t.reviewsData,o=t.metaData,c=_e((0,a.useState)(n),2),u=c[0],l=c[1],s=_e((0,a.useState)(zt),2),f=s[0],h=s[1],p=_e((0,a.useState)(!1),2),m=p[0],y=p[1],v=_e((0,a.useState)({}),2),d=v[0],g=v[1],w=_e((0,a.useState)(2),2),E=w[0],x=w[1],O=_e((0,a.useState)("relevance"),2),S=O[0],j=O[1],L=(0,a.useRef)(n),_=(0,a.useRef)(n.length),k=(0,a.useRef)(!0);return(0,a.useEffect)((function(){var t={product_id:e,sort:S,count:300};k.current?k.current=!1:function(t,e,r){var n={params:t};b().get("/reviews",n).then((function(t){r(t.data)})).catch((function(t){console.log("Error fetching reviews: ",t)}))}(t,0,(function(t){L.current=t,_.current=t.length,$t(L,f,E,l)}))}),[S]),(0,a.useMemo)((function(){$t(L,f,E,l)}),[f,E]),i().createElement("div",{id:"reviews-body"},i().createElement("div",{id:"reviews-module"},i().createElement("h3",{fromelement:"Ratings/Reviews"}," RATINGS AND REVIEWS "),i().createElement(Xt,{product_id:e,setCharacteristics:g,characteristics:d,setCurrentFilters:h,currentFilters:f,metaData:o}),0===u.length?null:i().createElement(Le,{reviews:u,setSortType:j,reviewCount:_.current}),i().createElement(we,{showReviewModal:m,setShowReviewModal:y,product_name:r,product_id:e,characteristics:d}),i().createElement("div",{id:"main-buttons"},i().createElement("button",{id:"add-review",fromelement:"Ratings/Reviews",className:"reviews-btn add-reviews",onClick:function(){return y((function(t){return!t}))}},"ADD A REVIEW +"),i().createElement("button",{id:"more-reviews",fromelement:"Ratings/Reviews",className:"reviews-btn more-reviews",onClick:function(){return function(t,e,r){t>=e.current&&(void 0).getElementById("more-reviews").remove(),r((function(t){return t+2}))}(E,_,x)}},"MORE REVIEWS"))))};function Pe(t){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe(t)}function Ae(){Ae=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:L(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",v={};function d(){}function g(){}function w(){}var b={};l(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(A([])));x&&x!==r&&n.call(x,i)&&(b=x);var O=w.prototype=d.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==Pe(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(Pe(e)+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(j.prototype),l(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(O),l(O,u,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Ne(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Ie(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Te(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Te(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const Ce=function(t){var e=t.data,r=(0,f.useParams)().id,n=Ie((0,a.useState)((function(){return"undefined"!=typeof window&&window.__INITIAL_DATA__?window.__INITIAL_DATA__:e})),2),o=n[0],c=n[1],u=Ie((0,a.useState)(!o),2),l=u[0],s=u[1],h=Ie((0,a.useState)(null),2),p=h[0],m=h[1],y=function(){var t,e=(t=Ae().mark((function t(){var e;return Ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b().get("/products/".concat(r));case 3:e=t.sent,c(e.data),s(!1),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),m("Error fetching data: ".concat(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Ne(a,n,o,i,c,"next",t)}function c(t){Ne(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){window.__INITIAL_DATA__||(s(!0),y())}),[r]),p?i().createElement("div",null,p):l?i().createElement("div",null,"Loading....ðŸ¤¹"):i().createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"}},i().createElement($,{productData:o}),i().createElement(B,{relatedProducts:o.relatedProducts,resetProductData:function(){window.__INITIAL_DATA__=null,c(null),s(!0)}}),i().createElement(Ut,{product_id:o.id,product_name:o.name,questions_answers:o.questionsWithAnswers}),i().createElement(Re,{product_id:o.id,product_name:o.name,reviewsData:o.reviews,metaData:o.metaData}))};function Ge(t){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ge(t)}var qe=["default_price"];function De(){De=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:L(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",v={};function d(){}function g(){}function w(){}var b={};l(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(A([])));x&&x!==r&&n.call(x,i)&&(b=x);var O=w.prototype=d.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==Ge(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(Ge(e)+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(j.prototype),l(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(O),l(O,u,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Fe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Me(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Fe(Object(r),!0).forEach((function(e){var n,o,a;n=t,o=e,a=r[e],(o=function(t){var e=function(t,e){if("object"!==Ge(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ge(e)?e:String(e)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ye(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ue(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ue(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ze(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function $e(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Qe(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){$e(a,n,o,i,c,"next",t)}function c(t){$e(a,n,o,i,c,"throw",t)}i(void 0)}))}}var Be="https://app-hrsei-api.herokuapp.com/api/fec2/hr-rpp";function He(t){return We.apply(this,arguments)}function We(){return We=Qe(De().mark((function t(e){var r,n;return De().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b().get("".concat(Be,"/products"),{headers:{authorization:e},params:{page:1,count:15}});case 3:return r=t.sent,t.next=6,Promise.all(r.data.map(function(){var t=Qe(De().mark((function t(r){var n,o,a,i,c,u,l,s,f,h,p,m,y,v,d,g,w;return De().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.default_price,o=ze(r,qe),t.next=3,Promise.all([b().get("".concat(Be,"/products/").concat(r.id,"/styles"),{headers:{authorization:e}}),b().get("".concat(Be,"/products/").concat(r.id),{headers:{authorization:e}}),b().get("".concat(Be,"/reviews/meta?product_id=").concat(r.id),{headers:{authorization:e}})]);case 3:return a=t.sent,i=Ye(a,3),c=i[0],u=i[1],l=i[2],s=[u.data.features,l.data.ratings,c.data.results],f=s[0],h=s[1],p=s[2],m=Object.entries(h).reduce((function(t,e){var r=Ye(e,2),n=r[0],o=r[1],a=Number(n),i=Number(o);return t.totalSum+=a*i,t.totalCount+=i,t}),{totalSum:0,totalCount:0}),y=m.totalSum,v=m.totalCount,d=y/v,d=Math.round(2*d)/2,g=c.data.results[0],w=g?g.photos[0].thumbnail_url:null,t.abrupt("return",Me(Me({},o),{},{defaultPrice:n,photo:w,ratingAverage:d,reviewsCount:v,features:f,styles:p}));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 6:return n=t.sent,t.abrupt("return",n.filter((function(t){return null!==t.photo})));case 10:throw t.prev=10,t.t0=t.catch(0),Error("Failed to fetch data from API: ".concat(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),We.apply(this,arguments)}var Ke=r(817),Ve=r.n(Ke);function Je(t){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(t)}function Xe(){Xe=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:L(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",v={};function d(){}function g(){}function w(){}var b={};l(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(A([])));x&&x!==r&&n.call(x,i)&&(b=x);var O=w.prototype=d.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==Je(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(Je(e)+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(j.prototype),l(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(O),l(O,u,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Ze(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function tr(){var t;return t=Xe().mark((function t(e){var r,n,o;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.API_KEY,o=new(Ve())("products.json"),t.prev=2,t.next=5,o.checkIfDataExists();case 5:if(!t.sent){t.next=11;break}return t.next=8,o.retrieveData();case 8:n=t.sent,t.next=16;break;case 11:return t.next=13,He(r);case 13:return n=t.sent,t.next=16,o.storeData(n);case 16:t.next=21;break;case 18:throw t.prev=18,t.t0=t.catch(2),new Error("Error fetching products: ".concat(t.t0));case 21:return t.abrupt("return",n);case 22:case"end":return t.stop()}}),t,null,[[2,18]])})),tr=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Ze(a,n,o,i,c,"next",t)}function c(t){Ze(a,n,o,i,c,"throw",t)}i(void 0)}))},tr.apply(this,arguments)}function er(t){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},er(t)}function rr(){rr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:L(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",v={};function d(){}function g(){}function w(){}var b={};l(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(A([])));x&&x!==r&&n.call(x,i)&&(b=x);var O=w.prototype=d.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==er(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(er(e)+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(j.prototype),l(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(O),l(O,u,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function nr(t){return function(t){if(Array.isArray(t))return or(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return or(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?or(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ar(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function ir(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){ar(a,n,o,i,c,"next",t)}function c(t){ar(a,n,o,i,c,"throw",t)}i(void 0)}))}}var cr="https://app-hrsei-api.herokuapp.com/api/fec2/hr-rpp";function ur(t,e){return lr.apply(this,arguments)}function lr(){return lr=ir(rr().mark((function t(e,r){var n,o,a,i,c,u,l;return rr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=function(){return(u=ir(rr().mark((function t(a){var i,u,l,s;return rr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="".concat(cr,"/qa/questions?product_id=").concat(r,"&page=").concat(a,"&count=").concat(o),u={headers:{Authorization:e}},t.next=4,b().get(i,u);case 4:if(l=t.sent,!((s=l.data.results).length>0)){t.next=10;break}return n=[].concat(nr(n),nr(s)),t.next=10,c(a+1);case 10:return t.abrupt("return",n);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)},c=function(t){return u.apply(this,arguments)},n=[],o=100,a=function(t){return t.map((function(t){var e=Object.values(t.answers),r=e.filter((function(t){return"Seller"===t.answerer_name})),n=e.filter((function(t){return"Seller"!==t.answerer_name})).sort((function(t,e){return e.date-t.date})).sort((function(t,e){return e.helpfulness-t.helpfulness}));return t.answers=[].concat(nr(r),nr(n)),t}))},i=function(t,e){var r=new Set;return t.filter((function(t){return!r.has(t[e])&&(r.add(t[e]),!0)}))},t.next=8,c(1);case 8:return l=i(n,"question_id"),t.abrupt("return",a(l));case 10:case"end":return t.stop()}}),t)}))),lr.apply(this,arguments)}function sr(t){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr(t)}var fr=["default_price"];function hr(){hr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:L(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",v={};function d(){}function g(){}function w(){}var b={};l(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(A([])));x&&x!==r&&n.call(x,i)&&(b=x);var O=w.prototype=d.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==sr(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(sr(e)+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(j.prototype),l(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(O),l(O,u,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function pr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function mr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pr(Object(r),!0).forEach((function(e){var n,o,a;n=t,o=e,a=r[e],(o=function(t){var e=function(t,e){if("object"!==sr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==sr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===sr(e)?e:String(e)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function yr(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function vr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return dr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dr(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gr(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function wr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){gr(a,n,o,i,c,"next",t)}function c(t){gr(a,n,o,i,c,"throw",t)}i(void 0)}))}}var br="https://app-hrsei-api.herokuapp.com/api/fec2/hr-rpp";function Er(t,e){return xr.apply(this,arguments)}function xr(){return xr=wr(hr().mark((function t(e,r){var n,o,a;return hr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b().get("".concat(br,"/products/").concat(r,"/related"),{headers:{authorization:e}});case 3:return n=t.sent,t.next=6,Promise.all(n.data.map(function(){var t=wr(hr().mark((function t(r){var n,o,a,i,c,u,l,s,f,h,p,m,y,v,d,g,w;return hr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([b().get("".concat(br,"/products/").concat(r),{headers:{Authorization:e}}),b().get("".concat(br,"/products/").concat(r,"/styles"),{headers:{authorization:e}}),b().get("".concat(br,"/reviews/meta?product_id=").concat(r),{headers:{authorization:e}})]);case 2:return n=t.sent,o=vr(n,3),a=o[0],i=o[1],c=o[2],u=[a.data,i.data.results,c.data.ratings],s=u[1],f=u[2],h=(l=u[0]).default_price,p=yr(l,fr),m=Object.entries(f).reduce((function(t,e){var r=vr(e,2),n=r[0],o=r[1],a=Number(n),i=Number(o);return t.totalSum+=a*i,t.totalCount+=i,t}),{totalSum:0,totalCount:0}),y=m.totalSum,v=m.totalCount,d=y/v,d=Math.round(2*d)/2,g=s[0],w=g?g.photos[0].thumbnail_url:null,t.abrupt("return",mr(mr({},p),{},{defaultPrice:h,photo:w,ratingAverage:d}));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 6:return o=t.sent,a=function(t,e){var n=new Set;return t.filter((function(t){return!n.has(t[e])&&t[e]!==Number(r)&&(n.add(t[e]),!0)}))},t.abrupt("return",a(o,"id"));case 11:throw t.prev=11,t.t0=t.catch(0),Error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),xr.apply(this,arguments)}function Or(t){return Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Or(t)}function Sr(){Sr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:L(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",v={};function d(){}function g(){}function w(){}var b={};l(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(A([])));x&&x!==r&&n.call(x,i)&&(b=x);var O=w.prototype=d.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==Or(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(Or(e)+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(j.prototype),l(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(O),l(O,u,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function jr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Lr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?jr(Object(r),!0).forEach((function(e){var n,o,a;n=t,o=e,a=r[e],(o=function(t){var e=function(t,e){if("object"!==Or(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Or(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Or(e)?e:String(e)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return kr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kr(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rr(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var Pr="https://app-hrsei-api.herokuapp.com/api/fec2/hr-rpp";function Ar(t,e){return Nr.apply(this,arguments)}function Nr(){var t;return t=Sr().mark((function t(e,r){var n,o,a,i,c,u,l,s,f,h,p,m,y,v,d,g,w,E,x,O,S;return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([Er(e,r),b().get("".concat(Pr,"/products/").concat(r,"/styles"),{headers:{authorization:e}}),b().get("".concat(Pr,"/products/").concat(r),{headers:{authorization:e}}),b().get("".concat(Pr,"/reviews?product_id=").concat(r,"&page=",1,"&count=",300,"&sort=","relevance"),{headers:{authorization:e}}),b().get("".concat(Pr,"/reviews/meta?product_id=").concat(r),{headers:{authorization:e}}),ur(e,r)]);case 3:return n=t.sent,o=_r(n,6),a=o[0],i=o[1],c=o[2],u=o[3],l=o[4],s=o[5],f=[c.data,c.data.features,u.data.results,l.data,i.data.results],h=f[0],p=f[1],m=f[2],y=f[3],v=f[4],d=Object.entries(y.ratings).reduce((function(t,e){var r=_r(e,2),n=r[0],o=r[1],a=Number(n),i=Number(o);return t.totalSum+=a*i,t.totalCount+=i,t}),{totalSum:0,totalCount:0}),g=d.totalSum,w=d.totalCount,E=g/w,E=Math.round(2*E)/2,y.percentRecommended=Math.floor(Number(y.recommended.true)/Number(w)*100),y.totalReviews=w,y.avgRating=E,x=i.data.results[0],O=x?x.photos[0].thumbnail_url:null,S=Lr({relatedProducts:a,photo:O,ratingAverage:E,reviewsCount:w,features:p,styles:v,questionsWithAnswers:s,reviews:m,metaData:y},h),t.abrupt("return",S);case 24:throw t.prev=24,t.t0=t.catch(0),Error(t.t0);case 27:case"end":return t.stop()}}),t,null,[[0,24]])})),Nr=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Rr(a,n,o,i,c,"next",t)}function c(t){Rr(a,n,o,i,c,"throw",t)}i(void 0)}))},Nr.apply(this,arguments)}function Ir(t){return Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ir(t)}function Tr(){Tr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:L(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",v={};function d(){}function g(){}function w(){}var b={};l(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(A([])));x&&x!==r&&n.call(x,i)&&(b=x);var O=w.prototype=d.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==Ir(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(Ir(e)+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(j.prototype),l(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(O),l(O,u,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Cr(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Gr(){var t;return t=Tr().mark((function t(e){var r,n,o,a;return Tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.API_KEY,n=e.productId,a=new(Ve())("product-".concat(n,".json")),t.next=4,a.checkIfDataExists();case 4:if(!t.sent){t.next=10;break}return t.next=7,a.retrieveData();case 7:o=t.sent,t.next=15;break;case 10:return t.next=12,Ar(r,n);case 12:return o=t.sent,t.next=15,a.storeData(o);case 15:return t.abrupt("return",o);case 16:case"end":return t.stop()}}),t)})),Gr=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Cr(a,n,o,i,c,"next",t)}function c(t){Cr(a,n,o,i,c,"throw",t)}i(void 0)}))},Gr.apply(this,arguments)}const qr=[{path:"/",component:T,fetchInitialData:function(t){return tr.apply(this,arguments)}},{path:"/:id",component:Ce,fetchInitialData:function(t){return Gr.apply(this,arguments)}}],Dr=require("@emotion/cache");var Fr=r.n(Dr),Mr=r(718),Yr=r(783),Ur=r.n(Yr);r(508);const zr=function(){var t=(0,f.useNavigate)(),e=function(){window.__INITIAL_DATA__=null,t("/")};return i().createElement("div",{className:"topbar"},i().createElement("button",{className:"menu-icon",tabIndex:0,onClick:e,onKeyPress:function(t){"Enter"!==t.key&&" "!==t.key||e()},"aria-label":"Open Menu"},"Products"),i().createElement("div",{className:"atelier"},"Red Bean Shop"))},$r=[{path:"/",component:T},{path:"/:id",component:Ce}];function Qr(t){var e=t.serverData,r=void 0===e?null:e;return i().createElement(i().Fragment,null,i().createElement(zr,null),i().createElement(f.Routes,null,$r.map((function(t){var e=t.path,n=t.component;return i().createElement(f.Route,{key:e,path:e,element:i().createElement(n,{data:r})})}))))}function Br(t){return Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Br(t)}function Hr(){Hr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:L(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",v={};function d(){}function g(){}function w(){}var b={};l(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(A([])));x&&x!==r&&n.call(x,i)&&(b=x);var O=w.prototype=d.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==Br(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?y:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(Br(e)+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(j.prototype),l(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(O),l(O,u,"Generator"),l(O,i,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Wr(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Kr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Wr(a,n,o,i,c,"next",t)}function c(t){Wr(a,n,o,i,c,"throw",t)}i(void 0)}))}}g().config();var Vr=r(147).promises,Jr=r(17),Xr=e()();Xr.use(o()()),Xr.use(e().json()),Xr.use(e().static("dist")),Xr.get("/products",function(){var t=Kr(Hr().mark((function t(e,r,n){var o,a;return Hr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=qr.find((function(t){return(0,f.matchPath)(t.path,"/")})),t.prev=1,t.next=4,o.fetchInitialData({API_KEY:process.env.GIT,productId:"/"});case 4:a=t.sent,r.status(200).send(a),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r,n){return t.apply(this,arguments)}}()),Xr.get("/products/:id",function(){var t=Kr(Hr().mark((function t(e,r,n){var o,a,i;return Hr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.params.id,a=qr.find((function(t){return(0,f.matchPath)(t.path,"/".concat(o))})),t.prev=2,t.next=5,a.fetchInitialData({API_KEY:process.env.GIT,productId:o});case 5:i=t.sent,r.status(200).send(i),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),n(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,r,n){return t.apply(this,arguments)}}()),Xr.get("/questions/:product_id",function(){var t=Kr(Hr().mark((function t(e,r,n){var o,a,i,c;return Hr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o={API_KEY:process.env.GIT,productId:e.params.product_id},a=o.API_KEY,i=o.productId,t.next=5,ur(a,i);case 5:c=t.sent,r.status(200).send(c),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r,n){return t.apply(this,arguments)}}()),Xr.get("/answers/:question_id",function(){var t=Kr(Hr().mark((function t(e,r,n){var o,a;return Hr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=e.params.question_id,t.next=4,(0,Mr.getAnswers)(o);case 4:a=t.sent,r.status(200).send(a),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r,n){return t.apply(this,arguments)}}()),Xr.post("/question",function(){var t=Kr(Hr().mark((function t(e,r,n){return Hr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("post question req.body: ",e.body),t.prev=1,t.next=4,(0,Mr.addQuestion)(e.body);case 4:t.sent,r.sendStatus(201),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r,n){return t.apply(this,arguments)}}()),Xr.post("/answer/:question_id",function(){var t=Kr(Hr().mark((function t(e,r,n){var o,a,i,c,u,l,s;return Hr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=e.params.question_id,a=e.body,i=a.body,c=a.name,u=a.email,l=a.photos,t.next=5,Ur()(l);case 5:return s=t.sent,t.next=8,(0,Mr.addAnswer)(i,c,u,s,o);case 8:r.sendStatus(201),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r,n){return t.apply(this,arguments)}}()),Xr.put("/helpful/question/:question_id",function(){var t=Kr(Hr().mark((function t(e,r,n){var o;return Hr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=e.params.question_id,t.next=4,(0,Mr.markQuestionAsHelpful)(o);case 4:t.sent,r.sendStatus(204),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r,n){return t.apply(this,arguments)}}()),Xr.put("/helpful/answer/:answer_id",function(){var t=Kr(Hr().mark((function t(e,r,n){var o;return Hr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=e.params.answer_id,t.next=4,(0,Mr.markAnswerAsHelpful)(o);case 4:t.sent,r.sendStatus(204),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r,n){return t.apply(this,arguments)}}()),Xr.put("/answer/:answer_id/report",function(){var t=Kr(Hr().mark((function t(e,r,n){var o;return Hr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=e.params.answer_id,t.next=4,(0,Mr.reportAnswer)(o);case 4:t.sent,r.sendStatus(204),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r,n){return t.apply(this,arguments)}}()),Xr.get("*",function(){var t=Kr(Hr().mark((function t(e,r,n){var o,i,l,h,y,d,g,w,b,E,x;return Hr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=qr.find((function(t){return(0,f.matchPath)(t.path,e.url)}))||{},t.prev=1,t.next=4,o.fetchInitialData({API_KEY:process.env.GIT,productId:e.url.substring(1)});case 4:return i=t.sent,l=Fr()({key:"css"}),h=v()(l),y=h.extractCriticalToChunks,d=h.constructStyleTagsFromChunks,g=(0,c.renderToString)(a.createElement(m.CacheProvider,{value:l},a.createElement(p(),null),a.createElement(u.StaticRouter,{location:e.url},a.createElement(Qr,{serverData:i})))),w=y(g),b=d(w),E=s()(i),t.next=13,Vr.readFile(Jr.resolve("./dist/template.html"),"utf8");case 13:x=(x=(x=(x=t.sent).replace("</head>","<style>".concat(b,"</style></head>"))).replace('<div id="root"></div>','<div id="root">'.concat(g,"</div>"))).replace("<script>window.__INITIAL_DATA__ = null;<\/script>","<script>window.__INITIAL_DATA__ = ".concat(E,";<\/script>")),r.send(x),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),n(t.t0);case 23:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(e,r,n){return t.apply(this,arguments)}}()),Xr.use((function(t,e,r,n){console.log("error in express error handler: ",t.message),r.status(500).send({error:t.message})}));var Zr=process.env.PORT||8e3;Xr.listen(Zr,(function(){console.log("Server is listening on port: ".concat(Zr))}))})()})();